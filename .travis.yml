sudo: true

language: python

python:
  - '3.6'

before_install:
  - sudo apt-get install graphviz
install:
  - pip install -r requirements-dev.txt -r requirements.txt -e .
  - touch BALSAMIC/containers/fake_singularity_image
  - balsamic init --singularity BALSAMIC/containers/fake_singularity_image

script:
  - py.test --cov=BALSAMIC -rsxv tests/* 

after_success: coveralls

env:
  - SENTIEON_LICENSE="/path/to/sentieon_license" SENTIEON_INSTALL_DIR="/path/to/sentieon_install_dir" SENTIEON_DNASCOPE="/path/to/sentieon_dnascope" SENTIEON_TNSCOPE="/path/to/sentieon_dnascope"
  
notification:
  - email: false
